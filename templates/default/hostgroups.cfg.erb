# Hostgroup definitions
# Automatically generated by Chef

define hostgroup {
  hostgroup_name all
  alias all
  members *
}

<% @monitored_nodes.each do |hgname, members| -%>
  <% if members.count > 0 -%>
define hostgroup {
  hostgroup_name <%= hgname %>
  alias <%= hgname %>
  members <%=members.collect {|x| x['hostname'] }.join(',') %>
}
  <% end -%>
<% end -%>
